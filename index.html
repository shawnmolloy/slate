
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Valassis Q2C API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;ruby&quot;,&quot;python&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="ruby">ruby</a>
              <a href="#" data-language-name="python">python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-token" class="toc-h2 toc-link" data-title="POST Token">POST Token</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#availability" class="toc-h1 toc-link" data-title="Availability">Availability</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-availability" class="toc-h2 toc-link" data-title="GET - Availability">GET - Availability</a>
                  </li>
                  <li>
                    <a href="#post-availabilityhelper" class="toc-h2 toc-link" data-title="POST - AvailabilityHelper">POST - AvailabilityHelper</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#mediaplan" class="toc-h1 toc-link" data-title="MediaPlan">MediaPlan</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-create-mediaplan" class="toc-h2 toc-link" data-title="POST - Create Mediaplan">POST - Create Mediaplan</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#inventory" class="toc-h1 toc-link" data-title="Inventory">Inventory</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-reserve-product-inventory" class="toc-h2 toc-link" data-title="POST - Reserve Product Inventory">POST - Reserve Product Inventory</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#order" class="toc-h1 toc-link" data-title="Order">Order</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-submit-product-order" class="toc-h2 toc-link" data-title="POST - Submit Product Order">POST - Submit Product Order</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='http://developer.valassis.com'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the Valassis Q2C API! You can use our API to access various API endpoints, which allow you to perform key Business functions and exchange information on Valassis Products and Services.</p>

<p>We have language bindings in Shell, Ruby, Python, and JavaScript! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>
<h1 id='authentication'>Authentication</h1><h2 id='post-token'>POST Token</h2>
<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.valassis.com/token"</span><span class="p">)</span>

<span class="n">https</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">https</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Authorization"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Basic &lt;Base64-encoded-client_key:client_secret&gt;"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"application/x-www-form-urlencoded"</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"grant_type=client_credentials"</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">start</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">hostname</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">,</span> <span class="n">req_options</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
  <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">end</span>

<span class="c1"># response.code</span>
<span class="c1"># response.body</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'https://api.valassis.com/token'</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">'grant_type=client_credentials'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Basic &lt;Base64-encoded-client_key:client_secret&gt;'</span><span class="p">,</span>
  <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/x-www-form-urlencoded'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">'POST'</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">payload</span><span class="p">,</span> <span class="n">allow_redirects</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">undefined</span><span class="p">,</span> <span class="n">allow_redirects</span><span class="o">=</span><span class="n">false</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl -X GET https://api.valassis.com/token/ <span class="se">\</span>
  -H <span class="s2">"Authorization: Basic &lt;Base64-encoded-client_key:client_secret&gt;"</span> <span class="se">\</span>
  -D <span class="s2">"grant_type=client_credentials"</span>  
</code></pre>
<blockquote>
<p>Make sure to replace <code>(client-key:client-secret)</code> with your specific key pair based on Production or Sandbox ENV.</p>

<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4cbff4e3-5a1c-3e4c-9315-3b4db223d160"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"am_application_scope default"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Valassis requires the use of OAuth2.0 Access Tokens to access the API. Access Tokens are generated from Token Request calls made using a Customer Key and Customer Secret. You maybe eligible to register for a Client Key and Client Secret at our <a href="http://developer.valassis.com">developer portal</a>.</p>

<p>Alternatively the Customer Key and Customer Secret with be provided to you by a Valassis Implementation Representative.</p>

<p>You&#39;ll be given two sets of ClientKey:ClientSecret credentials.  One for Production and a second for QA/Sandbox testing.  Credentials must be Base64 encoded before placing into Authorization Header.</p>

<p>Example of Base64 encoded client-key:client-secret <strong>wU62DjlyDBnq87GlBwplfqvmAbAa:ksdSdoefDDP7wpaElfqvmjDue</strong></p>

<ul>
<li>Authorization Notes:

<ul>
<li>The credentials must be passed in the “Authorization” header in a Token request before making the API requests.</li>
<li>Upon receiving the correct credentials, authorization server issues an access token called “bearer token” as below.</li>
<li>All subsequent API requests must use this <access_token> in the http “authorization header”</li>
<li>The access token has a definite time to live (TTL) or expires_in ( by default its 3600 seconds), and until it meets the expires_in ,the client will get the same token for the Token requests.</li>
<li>The client must have logic in the code to track and handle the expires_in , and must make a new request to get the next token</li>
</ul></li>
</ul>

<p><code>Authorization: Bearer: &lt;access_token&gt;</code></p>

<aside class="warning">
You must replace <code>access_token</code> with token value received from the POST Token Call.
</aside>
<h1 id='availability'>Availability</h1><h2 id='get-availability'>GET - Availability</h2><pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X GET https://api.valassis.com/Availabilty/2.0/<span class="o">{</span>Product<span class="o">}</span>/<span class="o">{</span>Startdate<span class="o">}</span>/<span class="o">{</span>Enddate<span class="o">}</span>/search? <span class="se">\</span>
      <span class="nv">q</span><span class="o">=</span>availabilityDetail&amp;geocode<span class="o">=</span>48152B1&amp;fields<span class="o">=</span>fields.cardigent <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer &lt;access_token&gt;'</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer &lt;access_token&gt;'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://api.valassis.com/Availabilty/2.0/{Product}/{Startdate}/{Enddate}/search'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'access_token'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.valassis.com/Availabilty/2.0/{Product}/{Startdate}/{Enddate}/search'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>

<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre>
<p>This endpoint retrieves availability for each geography within date range.</p>
<h3 id='https-request'>HTTPS Request</h3>
<p><code>GET http://api.valassis.com/Availability/2.0/VDP/{Product}/{Startdate}/{Enddate}/search?q=availabilityDetail&amp;geocode=48152B1&amp;fields=fields.cardigent</code></p>
<h3 id='path-parameters'>Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Product</td>
<td>string</td>
<td>true</td>
<td>Valassis Product Name &quot;(<strong>VDP</strong>, WRAP, ALL INS_SHARED)&quot;</td>
</tr>
<tr>
<td>Startdate</td>
<td>string</td>
<td>true</td>
<td>In Home Week (Sunday) Start Date <strong>&quot;YYYY-MM-DD&quot;</strong></td>
</tr>
<tr>
<td>Enddate</td>
<td>string</td>
<td>true</td>
<td>In Home Week End Date <strong>&quot;YYYY-MM-DD&quot;</strong></td>
</tr>
</tbody></table>

<aside class="notice">
Date ranch used for Startdate & Enddate must cross a Sunday Date - Best practice is to always use Sunday dates for the IHW values.
</aside>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>q</td>
<td>string</td>
<td>true</td>
<td><strong>&quot;availabilityDetail&quot;</strong></td>
</tr>
<tr>
<td><strong>geocode</strong></td>
<td>string</td>
<td>false</td>
<td>5-Digit <strong>ZIP</strong> or 8-Digit Valassis <strong>ATZ</strong>. Multiple values separated by &quot;,&quot;</td>
</tr>
<tr>
<td><strong>stageId</strong></td>
<td>Numeric</td>
<td>false</td>
<td>When availability request URI will exceed 8190 characters limit due to high volume of geocodes. &quot;348&quot;</td>
</tr>
<tr>
<td>fields</td>
<td>string</td>
<td>true</td>
<td>Query Results Filter <strong>&quot;fields.cardigent&quot;</strong></td>
</tr>
<tr>
<td>isAvailable</td>
<td>Numeric</td>
<td>false</td>
<td>If not used - returns Availability for all geographies. &quot;1&quot; - Returns only Available Geos. &quot;0&quot; - Returns only Unavailable Geos.</td>
</tr>
</tbody></table>

<aside class="notice">
Use either <code>geocode</code> or <code>stageId</code> parameters, not both.  StageId is used only if the AvailabilityHelper service was previously used.
</aside>
<h3 id='responses'>Responses</h3>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"records"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rows"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"productCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VDP"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"geoCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91604B1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ihw"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-08T12:12:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"isAvailable"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"inHomeDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-10T12:12:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"primaryDeliveryMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAIL"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subDeliveryMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAIL"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"hhc"</span><span class="p">:</span><span class="w"> </span><span class="mi">4507</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"productCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VDP"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"geoCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91604B1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ihw"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-01T12:12:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"isAvailable"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"inHomeDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-03T12:12:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"primaryDeliveryMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAIL"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subDeliveryMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAIL"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"hhc"</span><span class="p">:</span><span class="w"> </span><span class="mi">4506</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"productCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VDP"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"geoCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91604C1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ihw"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-08T12:12:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"isAvailable"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"inHomeDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-10T12:12:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"primaryDeliveryMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAIL"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subDeliveryMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAIL"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"hhc"</span><span class="p">:</span><span class="w"> </span><span class="mi">3640</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"productCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VDP"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"geoCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91604C1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ihw"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-01T12:12:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"isAvailable"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"inHomeDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-03T12:12:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"primaryDeliveryMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAIL"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subDeliveryMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAIL"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"hhc"</span><span class="p">:</span><span class="w"> </span><span class="mi">3640</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"exception"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"returnCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Availability call call was successful</td>
<td><a href="#schemaavailabilityresponse">Availability Response</a></td>
</tr>
<tr>
<td>400</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.5.1">Bad Request</a></td>
<td>Bad Request - See the AvailabilityResponse object for further information</td>
<td>None</td>
</tr>
<tr>
<td>500</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.6.1">Internal Server Error</a></td>
<td>Internal Server Error - The JSON file could not be processed due to errors which occurred on the Valassis server side. Please notify Valassis IT Support.</td>
<td>None</td>
</tr>
</tbody></table>

<p><a id="schemaavailabilityresponse"></a></p>
<h3 id='availability-response-schema'>Availability Response Schema</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>payload</td>
<td>[<a href="#schemapayload1">Payload</a>]</td>
<td>Shell object which holds final result/result set</td>
</tr>
<tr>
<td>exception</td>
<td>object</td>
<td><strong>&quot;Null&quot;</strong> or reason of exception</td>
</tr>
<tr>
<td>returnCode</td>
<td>integer(int32)</td>
<td>Http Status Code</td>
</tr>
</tbody></table>

<p><a id="schemapayload1"></a></p>
<h3 id='payload'>Payload</h3>
<p><em>Shell object which holds final result/result set from the Availability call.</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>total</td>
<td>integer(int32)</td>
<td>Number of Payloads returned</td>
</tr>
<tr>
<td>records</td>
<td>integer(int32)</td>
<td>Number of Records returned</td>
</tr>
<tr>
<td>pageSize</td>
<td>integer(int32)</td>
<td>Number of Records returned</td>
</tr>
<tr>
<td>page</td>
<td>integer(int32)</td>
<td>Number of Payload Properties returned</td>
</tr>
<tr>
<td>rows</td>
<td>[<a href="#schemarows1">Rows</a>]</td>
<td>Array of GEOs by In Home Date</td>
</tr>
</tbody></table>

<p><a id="schemarows1"></a></p>
<h3 id='rows'>Rows</h3>
<p><em>Records will be retunred for each in home date within Startdata and Enddate for each geography.</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>productCode</td>
<td>string</td>
<td>Valassis Product <strong>&quot;VDP&quot;</strong></td>
</tr>
<tr>
<td>geoCode</td>
<td>string</td>
<td><strong>ZIP</strong> or <strong>ATZ</strong> Value</td>
</tr>
<tr>
<td>ihw</td>
<td>string</td>
<td>In home Week date (Sunday Date &amp; Time)  (ISO8601-EXT Format)</td>
</tr>
<tr>
<td>isAvailable</td>
<td>integer(int32)</td>
<td>&quot;1&quot; available &quot;0&quot; not available</td>
</tr>
<tr>
<td>inHomeDate</td>
<td>string</td>
<td>Day of week Product is scheduled for delivery  (ISO8601-EXT Format)</td>
</tr>
<tr>
<td>primaryDeliveryMethod</td>
<td>string</td>
<td>Delivery Method - Internal use</td>
</tr>
<tr>
<td>subDeliveryMethod</td>
<td>string</td>
<td>Delivery Method - Internal use</td>
</tr>
<tr>
<td>hhc</td>
<td>integer(int32)</td>
<td>Number of House Holds in the Geography</td>
</tr>
</tbody></table>

<hr>
<h2 id='post-availabilityhelper'>POST - AvailabilityHelper</h2><pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST <span class="se">\</span>
  https://api.valassis.com/AvailabilityHelper/1.0/stage <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span>
  -H <span class="s1">'Authorization: Bearer &lt;access_token&gt;'</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer &lt;access_token&gt;'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://api.valassis.com/AvailabilityHelper/1.0/stage'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'access_token'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.valassis.com/AvailabilityHelper/1.0/stage'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>

<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre>
<p>This endpoint stages large list of Geographies to pull Availability within date range.</p>
<h3 id='https-request-2'>HTTPS Request</h3>
<p><code>POST https://api.valassis.com/AvailabilityHelper/1.0/stage</code></p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td><a href="#schemaavailabilityhelperrequest">AvailabilityHelperRequest</a></td>
<td>true</td>
<td>Body containing Availability Request data</td>
</tr>
</tbody></table>

<p><a id="schemaavailabilityhelperrequest"></a></p>
<h3 id='availabilityhelper-request-schema'>AvailabilityHelper Request Schema</h3>
<p><em>Payload parameters required to stage Availability request data</em></p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"productCode"</span><span class="p">:</span><span class="s2">"VDP"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"fromDate"</span><span class="p">:</span><span class="s2">"2018-08-05"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"toDate"</span><span class="p">:</span><span class="s2">"2018-12-30"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"geographies"</span><span class="p">:[</span><span class="s2">"91604C1"</span><span class="p">,</span><span class="s2">"91604B1”, “91604D1”, “91607D1”, “91423B1”, “91423G1”, “91604F1”, “91607C1"</span><span class="p">,</span><span class="w">    </span><span class="s2">"91602B1”, “91423C1”, “91601C1”, “91423D1”, “91607B1”,
     “90068B1”, “91605D1”, “90069C1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"91411C1”, “90046B1”, “91505B1"</span><span class="p">,</span><span class="w">    </span><span class="s2">"90046F1”, “90046K1”, “91405D1”, “91405G1”, “90068C1”, “90028B1”, “90048C1”, “91605F1”,
     “91504D1”, “90036F1”, “91405C1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"91402G1”, “91406B1”, “90211”, “91406C1”, “90028D1”, “91436C1”, “90048D1”, “90212C1”, “90036C1”, “90212B1”, “90028F1”,
     “91504B1”, “90038B1”, “90024F1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"91502”, “90067”, “90024G1”, “90036G1”, “90049F1”, “91402D1”, “90035C1”, “90049G1”, “91402F1”, “90024B1”, “90038D1”,
     “90036B1”, “90027B1”, “90024D1”, “91504C1”, “91406G1”, “90036D1”, “90035B1”, “90004F1”, “91331B1”, “90025F1"</span><span class="p">,</span><span class="w">    </span><span class="s2">"90027F1”, “91201C1”, “91316C1”, “90027C1”,
     “91352D1”, “90035D1”, “90004B1”, “90029C1”, “91402C1”, “90019J1”, “91406F1”, “91343B1”, “90020G1”, “91316D1”, “90027J1”, “90064C1”, “90025B1”, “90027D1”,
     “91316B1”, “90049C1”, “90019G1”, “91201B1”, “91501C1”, “91352C1”, “90029B1”, “91402B1”, “90005F1”, “90004G1”, “90025C1”, “91406D1”, “90034C1”, “90019C1”,
     “90019K1”, “91501B1”, “90034J1”, “90064B1”, “91331D1”, “90020F1”, “90027G1”, “90010”, “90025D1”, “91331G1”, “91343C1”, “90029D1”, “90049D1”, “91356B1”,
     “91343F1”, “90004C1”, “90020C1”, “91202C1”, “90049B1”, “90016F1”, “90004D1”, “90034F1”, “90005D1”, “90025G1”, “90019F1”, “91203”, “90039D1”, “90034B1”,
     “91335G1”, “90039B1”, “90020B1”, “91204”, “90019D1”, “90026D1”, “91202B1”, “91356C1”, “90016B1”, “90064D1”, “90005B1”, “90034G1”, “91335B1”, “90019B1”,
     “90006D1”, “90020D1”, “90016D1”, “91040C1”, “90034D1”, “90026G1”, “91325B1”, “90404C1”, “91343D1”, “90232C1”, “90403D1”, “91331F1”, “91335D1”,
     “91356D1”, “90018B1"</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"isAvailable"</span><span class="p">:</span><span class="s2">"1"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='properties'>Properties</h3>
<aside class="notice">
Property values in <code>BOLD</code> should be used as default values
</aside>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>productCode</td>
<td>string</td>
<td>true</td>
<td>Valassis Product Name &quot;(<strong>VDP</strong>, WRAP, ALL INS_SHARED)&quot;</td>
</tr>
<tr>
<td>FromDate</td>
<td>string</td>
<td>true</td>
<td>In Home Week (Sunday) Start Date <strong>&quot;YYYY-MM-DD&quot;</strong></td>
</tr>
<tr>
<td>toDate</td>
<td>string</td>
<td>true</td>
<td>In Home Week End Date <strong>&quot;YYYY-MM-DD&quot;</strong></td>
</tr>
<tr>
<td><strong>geocode</strong></td>
<td>string</td>
<td>false</td>
<td>5-Digit <strong>ZIP</strong> or 8-Digit Valassis <strong>ATZ</strong>. Multiple values separated by &quot;,&quot;</td>
</tr>
<tr>
<td>isAvailable</td>
<td>Numeric</td>
<td>false</td>
<td>If not used - returns Availability for all geographies. &quot;1&quot; - Returns only Available Geos. &quot;0&quot; - Returns only Unavailable Geos.</td>
</tr>
</tbody></table>
<h3 id='responses-2'>Responses</h3>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"payload"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6988"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"exception"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"returnCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>AvailabilityHelper call was successful</td>
<td><a href="#schemaavailabilityhelperresponse">AvailabilityHelper Response</a></td>
</tr>
<tr>
<td>400</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.5.1">Bad Request</a></td>
<td>Bad Request - See the AvailabilityHelperResponse object for further information</td>
<td>None</td>
</tr>
<tr>
<td>500</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.6.1">Internal Server Error</a></td>
<td>Internal Server Error - The JSON file could not be processed due to errors which occurred on the Valassis server side. Please notify Valassis IT Support.</td>
<td>None</td>
</tr>
</tbody></table>

<p><a id="schemaavailabilityhelperresponse"></a></p>
<h3 id='availabilityhelper-response-schema'>AvailabilityHelper Response Schema</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>payload</td>
<td>Number</td>
<td><strong>stageId</strong> value - used in Availability API query parm.</td>
</tr>
<tr>
<td>exception</td>
<td>object</td>
<td><strong>&quot;Null&quot;</strong> or reason of exception</td>
</tr>
<tr>
<td>returnCode</td>
<td>integer(int32)</td>
<td>Http Status Code</td>
</tr>
</tbody></table>

<hr>
<h1 id='mediaplan'>MediaPlan</h1><h2 id='post-create-mediaplan'>POST - Create Mediaplan</h2><pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.valassis.com/Mediaplan/1.0/emptymediaplan <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer &lt;access_token&gt;'</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.valassis.com/Mediaplan/1.0/emptymediaplan'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.valassis.com/Mediaplan/1.0/emptymediaplan'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>

<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre>
<p>Builds Media Plan with Valassis backends systems.  Media Plan is used to define product and geo details needed to create the final order.  Media Plan details stay within Valassis backend systems and or not returned to call application.</p>

<aside class="notice">
Separate(multiple) Mediaplans are required for each change in IHD and Product.
</aside>
<h3 id='https-request-3'>HTTPS Request</h3>
<p><code>POST http://api.valassis.com/Mediaplan/1.0/emptymediaplan</code></p>
<h3 id='parameters-2'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td><a href="#schemamediaplanrequest">MediaplanRequest</a></td>
<td>true</td>
<td>Body containing Media Plan Request data</td>
</tr>
</tbody></table>

<p><a id="schemamediaplanrequest"></a></p>
<h3 id='mediaplan-request-schema'>Mediaplan Request Schema</h3>
<p><em>Payload parameters required to create standard Mediaplan:
- Creates Media Plan details within Valassis backend systems as input into Inventory Reserve and Ordering.
- THIS VERSION APPLIES TO VDP PRODUCT ONLY.
- Synchronous API Call</em></p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">  
   </span><span class="s2">"username"</span><span class="p">:</span><span class="s2">"TBD@valassis.com.dev"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"targetingProfile"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"TBD Order"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"clientId"</span><span class="p">:</span><span class="s2">"TBD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"promoPeriodStartDate"</span><span class="p">:</span><span class="s2">"2019-01-04T12:00:00.0000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"promoPeriodEndDate"</span><span class="p">:</span><span class="s2">"2019-01-04T12:00:00.0000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"preferredDate"</span><span class="p">:</span><span class="s2">"2019-01-04T12:00:00.0000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sites"</span><span class="p">:[</span><span class="w">  
         </span><span class="p">{</span><span class="w">  
            </span><span class="s2">"xcoord"</span><span class="p">:</span><span class="mf">-118.4027079</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ycoord"</span><span class="p">:</span><span class="mf">34.143063</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Pizza Palace"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"address"</span><span class="p">:</span><span class="s2">"12345 Ventura Blvd"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"city"</span><span class="p">:</span><span class="s2">"Studio City"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"state"</span><span class="p">:</span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"zip"</span><span class="p">:</span><span class="s2">"91604"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"geocodes"</span><span class="p">:[</span><span class="s2">"91604C1"</span><span class="p">,</span><span class="s2">"91604B1"</span><span class="p">],</span><span class="w">
   </span><span class="s2">"productAllocations"</span><span class="p">:[</span><span class="w">  
      </span><span class="p">{</span><span class="w">  
         </span><span class="s2">"productCode"</span><span class="p">:</span><span class="s2">"VDP"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"sfdcProductCd"</span><span class="p">:</span><span class="s2">"VDP_BASIC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='properties-2'>Properties</h3>
<aside class="notice">
Property values in <code>BOLD</code> should be used as default values
</aside>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>string</td>
<td>true</td>
<td>A unique user name will be provided to you during implementation</td>
</tr>
<tr>
<td>targetingProfile</td>
<td>[<a href="#schematargetingprofile">TargetingProfile</a>]</td>
<td>true</td>
<td>Array of Media Plan properties</td>
</tr>
<tr>
<td>geocodes</td>
<td>[string]</td>
<td>true</td>
<td>Geographies being requested. Can be single or multiple GEOs.</td>
</tr>
<tr>
<td>productAllocations</td>
<td>[<a href="#schemaproductallocations">ProductAllocations</a>]</td>
<td>true</td>
<td>Array</td>
</tr>
</tbody></table>

<p><a id="schematargetingprofile"></a></p>
<h3 id='targetingprofile'>TargetingProfile</h3>
<p><em>Object contains the properties required to create a standard Mediaplan within Valassis.</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>false</td>
<td>A unique user name will be provided to you during implementation.</td>
</tr>
<tr>
<td>description</td>
<td>object</td>
<td>false</td>
<td><strong>&quot;null&quot;</strong></td>
</tr>
<tr>
<td>clientId</td>
<td>string</td>
<td>false</td>
<td>A unique 3-Digit value will be provided to you during implementation.</td>
</tr>
<tr>
<td>promoPeriodStartDate</td>
<td>string</td>
<td>true</td>
<td>IHD - See Availability IHD Property.  (ISO8601-EXT Format)</td>
</tr>
<tr>
<td>promoPeriodEndDate</td>
<td>string</td>
<td>true</td>
<td>IHD - See Availability IHD Property. (ISO8601-EXT Format)</td>
</tr>
<tr>
<td>preferredDate</td>
<td>string</td>
<td>true</td>
<td>IHD - See Availability IHD Property. <strong>Must be Future Dated</strong>  (ISO8601-EXT Format)</td>
</tr>
<tr>
<td>sites</td>
<td>[<a href="#schemasites">Sites</a>]</td>
<td>false</td>
<td>Array of Store locations to build Media Plan around (optional).</td>
</tr>
</tbody></table>

<p><a id="schemasites"></a></p>
<h3 id='sites-optional'>Sites(optional)</h3>
<p><em>Crate a Site object for each store location in MediaPlan.</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>xcoord</td>
<td>number(double)</td>
<td>false</td>
<td>Geocode longitude of location.</td>
</tr>
<tr>
<td>ycoord</td>
<td>number(double)</td>
<td>false</td>
<td>Geocode latitude of location.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>false</td>
<td>Location Name</td>
</tr>
<tr>
<td>address</td>
<td>string</td>
<td>false</td>
<td>Location street address</td>
</tr>
<tr>
<td>city</td>
<td>string</td>
<td>false</td>
<td>Location City</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>false</td>
<td>Location State</td>
</tr>
<tr>
<td>zip</td>
<td>string</td>
<td>false</td>
<td>Location Zip</td>
</tr>
</tbody></table>

<p><a id="schemaproductallocations"></a></p>
<h3 id='product-allocations'>Product Allocations</h3>
<p><em>Describes the Valassis product attributes of the Mediaplan being created.</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>productCode</td>
<td>string</td>
<td>true</td>
<td>Valassis Product Name &quot;(<strong>VDP</strong>, WRAP, ALL INS_SHARED)&quot;</td>
</tr>
<tr>
<td>sfdcProductCd</td>
<td>string</td>
<td>false</td>
<td>Valassis Salesforce Product Code <strong>&quot;(VDP_BASIC)&quot;</strong></td>
</tr>
</tbody></table>
<h3 id='responses-3'>Responses</h3>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>Create MediaplanRequest call successful</td>
<td><a href="#schemamediaplanresponse">MediaplanResponse</a></td>
</tr>
<tr>
<td>400</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.5.1">Bad Request</a></td>
<td>Bad Request - See the MediaplanResponse object for further information</td>
<td>None</td>
</tr>
<tr>
<td>500</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.6.1">Internal Server Error</a></td>
<td>Internal Server Error - The JSON file could not be processed due to errors which occurred on the Valassis server side. Please notify Valassis IT Support.</td>
<td>None</td>
</tr>
</tbody></table>

<hr>

<p><a id="schemamediaplanresponse"></a></p>
<h3 id='mediaplan-response-schema'>Mediaplan Response Schema</h3><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"mediaPlanId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"96695"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mediaPlanGroupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48471"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"exception"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"returnCode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>payload</td>
<td><a href="#schemapayloadresponse">PayloadResponse</a></td>
<td>Shell object which holds final result/result set</td>
</tr>
<tr>
<td>exception</td>
<td>object</td>
<td><strong>&quot;Null&quot;</strong> or reason of exception</td>
</tr>
<tr>
<td>returnCode</td>
<td>integer(int32)</td>
<td>Http Status Code - <strong>&quot;Null&quot;</strong> if successful</td>
</tr>
</tbody></table>

<p><a id="schemapayloadresponse"></a></p>
<h3 id='payload-response'>Payload Response</h3>
<p><em>The mediaPlanGroupId should be used when creating a Valassis Order</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mediaPlanId</td>
<td>string</td>
<td>Media Plan ID</td>
</tr>
<tr>
<td>mediaPlanGroupId</td>
<td>string</td>
<td>Media Plan Group ID associates several individual Mediaplans together.</td>
</tr>
</tbody></table>

<hr>
<h1 id='inventory'>Inventory</h1><h2 id='post-reserve-product-inventory'>POST - Reserve Product Inventory</h2>
<blockquote>
<p>Code samples</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.valassis.com/Inventory/1.0/reserve <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer &lt;access_token&gt;'</span><span class="se">\</span>
  -D <span class="o">{</span>  <span class="s2">"mediaPlanId"</span>: <span class="s2">"string"</span>,
        <span class="s2">"accountNumber"</span>: 0
      <span class="o">}</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>
  <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span>
<span class="p">}</span>
  <span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.valassis.com/Inventory/1.0/reserve'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>
  <span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>
  <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.valassis.com/Inventory/1.0/reserve'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>
  <span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>
<p>Places a hold on the selected geographies within a defined Media Plan so that inventory is not consumed by other applications during the formal Order process.</p>

<p>Orders submitted to Valassis using the exposed Order API rely on scheduled processes to finalize the Order details within our Order Management and Fulfillment systems.  As result the Order Service API is asynchronous.  While the Order Service API returns a response the Order is not actually completely submitted until these scheduled processes execute.  To avoid possible loss of inventory within the desired products availability the InventoryReserve Service API was created.   This service marks the requested inventory as unavailable which prevents other Valasssis order systems from booking the same inventory.   InventoryReserve service should be used once the client has selected their delivery date and Geographies.   </p>

<aside class="warning">
Reserving Inventory places a "hard" hold on the Availability for the given geographies and dates. There is currently no API method/endpoint to release the reserved inventory in the event a followup Order is not made.  Contact Valassis Operations Support to clear the reservation.   
</aside>
<h3 id='https-request-4'>HTTPS Request</h3>
<p><code>POST https://api.valassis.com/Inventory/1.0/reserve</code></p>
<h3 id='parameters-3'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td><a href="#schemainventoryreserverequest">InventoryReserveRequest</a></td>
<td>true</td>
<td>Body containing Inventory Reserve Request data</td>
</tr>
</tbody></table>

<aside class="notice">
Separate(multiple) Inventory Reserve calls are required for each Mediaplan created.
</aside>
<h3 id='schemas'>Schemas</h3>
<p><a id="schemainventoryreserverequest"></a></p>
<h3 id='inventory-reserve-request-schema'>Inventory Reserve Request Schema</h3>
<p><em>Inventory Reserve Request requires the mediaPlanId returned as part of the emptymediaplan call.  This call should be made for each unique Mediaplan created.  The Valassis account number will be provided by a Valassis Implementation Resource during on-boarding activities</em></p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"mediaPlanId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='properties-3'>Properties</h3>
<aside class="notice">
Property values in <code>BOLD</code> should be used as default values
</aside>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mediaPlanId</td>
<td>string</td>
<td>true</td>
<td>Valassis MediaPlanID Number.  Returned from MediaPlan Service.</td>
</tr>
<tr>
<td>accountNumber</td>
<td>number</td>
<td>true</td>
<td>Valassis Account Number that the Order will be placed under.</td>
</tr>
</tbody></table>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>InventoryReserveRequest call Successful</td>
<td><a href="#schemainventoryreserveresponse">InventoryReserveResponse</a></td>
</tr>
<tr>
<td>400</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.5.1">Bad Request</a></td>
<td>Bad Request - See the InventoryReserveResponse object for further information</td>
<td>None</td>
</tr>
<tr>
<td>500</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.6.1">Internal Server Error</a></td>
<td>Internal Server Error - The JSON file could not be processed due to errors which occurred on the Valassis server side. Please notify Valassis IT Support.</td>
<td>None</td>
</tr>
</tbody></table>

<p><a id="schemainventoryreserveresponse"></a></p>
<h3 id='inventory-reserve-response-schemas'>Inventory Reserve Response Schemas</h3><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"consumeReqStageId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"val3cpConsumeInvDtls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"consumeReqStageId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"geography"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ihw"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ihd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"custAccountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"consumedFlag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"errorFlag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"errorDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"createdBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"lastUpdatedBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"lastUpdateDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"lastUpdateLogin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"exception"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="s2">"returnCode"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>payload</td>
<td><a href="#schemainv_payloadresponse">PayloadResponse</a></td>
<td>Shell object which holds final result/result set</td>
</tr>
<tr>
<td>exception</td>
<td>object</td>
<td>&quot;null&quot; or reason of exception</td>
</tr>
<tr>
<td>returnCode</td>
<td>integer(int32)</td>
<td>Http Status Code - &quot;null&quot; if successful</td>
</tr>
</tbody></table>

<p><a id="schemainv_payloadresponse"></a></p>
<h3 id='payloadresponse'>PayloadResponse</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>consumeReqStageId</td>
<td>string</td>
<td>ERP Primary Key – Internal Valassis use Only.</td>
</tr>
<tr>
<td>val3cpConsumeInvDtls</td>
<td><a href="#schemaval3cpconsumeinvdtls">val3cpConsumeInvDtls</a></td>
<td>Array</td>
</tr>
</tbody></table>

<p><a id="schemaval3cpconsumeinvdtls"></a></p>
<h3 id='val3cpconsumeinvdtls'>val3cpConsumeInvDtls</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>@ref{n}</td>
<td>string</td>
<td>&quot;n&quot; = sequential number for each geography.</td>
</tr>
<tr>
<td>consumeReqStageId</td>
<td>string</td>
<td>UUID generated from fuse. Internal use.</td>
</tr>
<tr>
<td>geography</td>
<td>string</td>
<td>Geography (ZIP or ATZ).</td>
</tr>
<tr>
<td>ihw</td>
<td>string</td>
<td>In Home Week - Date is returned in milliseconds(epoc).</td>
</tr>
<tr>
<td>ihd</td>
<td>string</td>
<td>In Home Day of the week.  Date is returned in milliseconds(epoc).</td>
</tr>
<tr>
<td>custAccountId</td>
<td>string</td>
<td>Conformation of the Oracle Account the Mediaplan was created with.</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>&quot;SUCCESS&quot; or &quot;FAILURE&quot;</td>
</tr>
<tr>
<td>consumedFlag</td>
<td>string</td>
<td>Booking Status of Geography - “Y”/&quot;N&quot;</td>
</tr>
<tr>
<td>errorFlag</td>
<td>string</td>
<td>“Y”/&quot;N&quot;</td>
</tr>
<tr>
<td>errorDescription</td>
<td>string</td>
<td>Description of Error.</td>
</tr>
<tr>
<td>createdBy</td>
<td>string</td>
<td>&quot;null&quot;</td>
</tr>
<tr>
<td>creationDate</td>
<td>string</td>
<td>&quot;null&quot;</td>
</tr>
<tr>
<td>lastUpdatedBy</td>
<td>string</td>
<td>&quot;null&quot;</td>
</tr>
<tr>
<td>lastUpdateDate</td>
<td>string</td>
<td>&quot;null&quot;</td>
</tr>
<tr>
<td>lastUpdateLogin</td>
<td>string</td>
<td>&quot;null&quot;</td>
</tr>
</tbody></table>

<hr>
<h1 id='order'>Order</h1><h2 id='post-submit-product-order'>POST - Submit Product Order</h2>
<p>Submit Valassis Product Order</p>
<h3 id='https-request-5'>HTTPS Request</h3>
<blockquote>
<p>Code samples</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.valassis.com/Order/1.0/submitOrder <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer &lt;access_token&gt;'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.valassis.com/Order/1.0/submitOrder'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.valassis.com/Order/1.0/submitOrder'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>

<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>
<p><code>POST https://api.valassis.com/Order/1.0/submitOrder</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td><a href="#schemaorderrequest">OrderRequest</a></td>
<td>true</td>
<td>A JSON object containing Order information</td>
</tr>
</tbody></table>

<aside class="notice">
One Order request can be used for multiple Mediaplans.
</aside>

<p><a id="schemaorderrequest"></a></p>
<h3 id='order-request-schema'>Order Request Schema</h3>
<p><em>Order Request contains a combination of properties that will be static for all orders from a single source system, properties that will change for each order, and properties that will not apply to most situations.  Several properties will require specific values that will be provided to you by the Valassis implementation representative during onboarding activities</em></p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"baseProductlist"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"productType"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"oracleAccountNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999999"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"salesRepInitials"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AAA"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"salesRepEmployeeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">99999</span><span class="p">,</span><span class="w">
          </span><span class="s2">"contractNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17PLATINUM.3"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"orderSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3CP"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"distributionMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shared"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"printMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ADVO Printed"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"draftType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client Supplied"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"goldSeal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"finishedSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic Data Postcard"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"productType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VDP"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"mediaPlanGroupList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"21822"</span><span class="p">,</span><span class="s2">"21828"</span><span class="p">],</span><span class="w">
          </span><span class="s2">"copyDisposition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kill"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"orderSourceRef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234re32"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"clientNameAppearingOnAd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ADsRSqbQa12"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"clientInvoicePromotion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CIPQWxyQa501"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"clientPromotion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CP1"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"advertisementDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12-15-2018"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"uniqueAdVersionCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DH34126838"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"printAddressType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Store Copy"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"businessName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"contactName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"streetAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"zipCode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"profileName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"opportunityNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"999999"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"preferredPosition"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"formName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"creatorEmployeeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">99999</span><span class="p">,</span><span class="w">
          </span><span class="s2">"anneCrossSellNumber"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"graphicsHubOverride"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"contractAgreement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TBD17PLATINUM.3"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"clientPO"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"clientName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VPW Pizza Legal Name"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"productFamilyType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SHAREDMAIL"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='properties-4'>Properties</h3>
<aside class="notice">
Property values in <code>BOLD</code> should be used as default values
</aside>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>baseProductlist</td>
<td>[<a href="#schemabaseproductlist">baseProductlist</a>]</td>
<td>false</td>
<td>Array of Order parameters</td>
</tr>
</tbody></table>

<p><a id="schemabaseproductlist"></a></p>
<h3 id='baseproductlist'>baseProductlist</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>productType</td>
<td>[<a href="#schemaproducttype">productType</a>]</td>
<td>true</td>
<td>Array of Order parameters</td>
</tr>
<tr>
<td>productFamilyType</td>
<td>string</td>
<td>true</td>
<td><strong>&quot;SHAREDMAIL&quot;</strong></td>
</tr>
</tbody></table>

<p><a id="schemaproducttype"></a></p>
<h3 id='producttype'>productType</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>oracleAccountNumber</td>
<td>string</td>
<td>true</td>
<td>Oracle billing Account number</td>
</tr>
<tr>
<td>salesRepInitials</td>
<td>string</td>
<td>true</td>
<td>Unique sales person&#39;s initials or virtual sales rep.</td>
</tr>
<tr>
<td>salesRepEmployeeId</td>
<td>number(double)</td>
<td>true</td>
<td>Valid SAP Employee ID of salesRep.</td>
</tr>
<tr>
<td>contractNumber</td>
<td>string</td>
<td>true</td>
<td>Oracle Contract Number</td>
</tr>
<tr>
<td>orderSource</td>
<td>string</td>
<td>false</td>
<td>Can be used to identify source system of Order Request</td>
</tr>
<tr>
<td>distributionMethod</td>
<td>string</td>
<td>true</td>
<td><strong>&quot;Shared&quot;</strong> - Valassis Product Distribution Method.  Indicates how product will be delivered.</td>
</tr>
<tr>
<td>printMethod</td>
<td>string</td>
<td>true</td>
<td><strong>&quot;ADVO Printed&quot;</strong> - Indicates if Valassis or Client will be printing artwork.</td>
</tr>
<tr>
<td>draftType</td>
<td>string</td>
<td>true</td>
<td><strong>&quot;Client Suppied&quot;</strong> - Proof required for artwork.</td>
</tr>
<tr>
<td>goldSeal</td>
<td>string</td>
<td>true</td>
<td><strong>&quot;No&quot;</strong> - Special pricing attributes from a contract.  Default to &quot;No&quot;.</td>
</tr>
<tr>
<td>finishedSize</td>
<td>string</td>
<td>true</td>
<td><strong>&quot;Basic Data Postcard&quot;</strong> - Standard Valassis Product Categories</td>
</tr>
<tr>
<td>productType</td>
<td>string</td>
<td>true</td>
<td><strong>&quot;VDP&quot;</strong> - Standard Valassis Product Names</td>
</tr>
<tr>
<td>mediaPlanGroupList</td>
<td>number(double)</td>
<td>true</td>
<td>Array - List of all mediaPlanGroupId&#39;s from all Mediaplan calls for selected Geographies in Order.</td>
</tr>
<tr>
<td>copyDisposition</td>
<td>string</td>
<td>true</td>
<td>Indicates if Order is single delivery or multiple week delivery. Used when perpetual orders are sent at the same time.</td>
</tr>
<tr>
<td>orderSourceRef</td>
<td>string</td>
<td>true</td>
<td>Unique Order number from Requesting Application</td>
</tr>
<tr>
<td>clientNameAppearingOnAd</td>
<td>string</td>
<td>false</td>
<td>Name of the client ordering the Valassis product. 25 Chars Max.</td>
</tr>
<tr>
<td>clientInvoicePromotion</td>
<td>string</td>
<td>true</td>
<td>Same as uniqueAdVersionCode. 30 Chars Max.</td>
</tr>
<tr>
<td>clientPromotion</td>
<td>string</td>
<td>true</td>
<td>??? 30 Chars Max.</td>
</tr>
<tr>
<td>advertisementDate</td>
<td>string</td>
<td>true</td>
<td>Sunday date of the IN-Home week of the first delivery. (MM-DD-YYYY)</td>
</tr>
<tr>
<td>uniqueAdVersionCode</td>
<td>string</td>
<td>true</td>
<td>a unique value to Valassis.  Different value for each IHW</td>
</tr>
<tr>
<td>printAddressType</td>
<td>string</td>
<td>false</td>
<td>Indicates if a store copy is to be sent to client.</td>
</tr>
<tr>
<td>businessName</td>
<td>string</td>
<td>false</td>
<td>** Required if printAddressType is not &quot;null&quot; - Name of Business Client to receive Store Copy. 30 Chars Max</td>
</tr>
<tr>
<td>contactName</td>
<td>string</td>
<td>false</td>
<td>** Required if printAddressType is not &quot;null&quot; - Name of Client contact</td>
</tr>
<tr>
<td>quantity</td>
<td>string</td>
<td>false</td>
<td>** Required if printAddressType is not &quot;null&quot; - Number of store copies to be sent</td>
</tr>
<tr>
<td>rate</td>
<td>string</td>
<td>false</td>
<td>** Required if printAddressType is not &quot;null&quot; - CPM Rate to use</td>
</tr>
<tr>
<td>streetAddress</td>
<td>string</td>
<td>false</td>
<td>** Required if printAddressType is not &quot;null&quot; - Address of where Story Copy is to be sent.</td>
</tr>
<tr>
<td>zipCode</td>
<td>string</td>
<td>false</td>
<td>** Required if printAddressType is not &quot;null&quot; - Zip of where Story Copy is to be sent</td>
</tr>
<tr>
<td>profileName</td>
<td>string</td>
<td>false</td>
<td>none</td>
</tr>
<tr>
<td>opportunityNumber</td>
<td>string</td>
<td>false</td>
<td>none</td>
</tr>
<tr>
<td>preferredPosition</td>
<td>string</td>
<td>false</td>
<td>Used only for Wrap Product</td>
</tr>
<tr>
<td>formName</td>
<td>string</td>
<td>false</td>
<td>none</td>
</tr>
<tr>
<td>creatorEmployeeId</td>
<td>number(double)</td>
<td>false</td>
<td>none</td>
</tr>
<tr>
<td>anneCrossSellNumber</td>
<td>string</td>
<td>false</td>
<td>none</td>
</tr>
<tr>
<td>graphicsHubOverride</td>
<td>string</td>
<td>false</td>
<td>none</td>
</tr>
<tr>
<td>contractAgreement</td>
<td>string</td>
<td>false</td>
<td>none</td>
</tr>
<tr>
<td>clientPO</td>
<td>string</td>
<td>false</td>
<td>20 Chars Max</td>
</tr>
<tr>
<td>clientName</td>
<td>string</td>
<td>false</td>
<td>none</td>
</tr>
</tbody></table>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<h3 id='response-2'>Response</h3>
<aside class="warning">
Successful completion of this call means that the Order as only been submitted to Valassis.  Required back-office scheduled processes are executed to place the Order into a final submitted status.
</aside>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>OrderRequest call successful</td>
<td><a href="#schemaorderresponse">OrderResponse</a></td>
</tr>
<tr>
<td>400</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.5.1">Bad Request</a></td>
<td>Bad Request - See the OrderResponse object for further information</td>
<td>None</td>
</tr>
<tr>
<td>500</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.6.1">Internal Server Error</a></td>
<td>Internal Server Error - The JSON file could not be processed due to errors which occurred on the Valassis server side. Please notify Valassis IT Support.</td>
<td>None</td>
</tr>
</tbody></table>

<p><a id="schemaorderresponse"></a></p>
<h3 id='order-response-schema'>Order Response Schema</h3><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"payload"</span><span class="p">:</span><span class="w"> </span><span class="s2">"280698"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"exception"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="s2">"returnCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>payload</td>
<td>string</td>
<td>UUID Reference Number</td>
</tr>
<tr>
<td>exception</td>
<td>object</td>
<td>&quot;null&quot; or reason of exception</td>
</tr>
<tr>
<td>returnCode</td>
<td>integer(int32)</td>
<td>Http Status Code - &quot;null&quot; if successful</td>
</tr>
</tbody></table>

<p><em>Order Payload contains only a UUID reference number which can only be used to tracing the Order internally to Valassis.  This is not an Order conformation number.</em></p>
<h1 id='errors'>Errors</h1>
<p>The Valassis Q2C API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The resource requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified resource could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a resource with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re request has been refused do to throttling restrictions.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="ruby">ruby</a>
                <a href="#" data-language-name="python">python</a>
          </div>
      </div>
    </div>
  </body>
</html>
